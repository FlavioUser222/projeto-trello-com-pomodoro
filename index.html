<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRELLO POMODORO</title>
</head>
<style>
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }

    .container {
        display: flex;
        gap: 10px;
        padding: 20px;
        overflow-x: auto;
    }

    .divInput {
        background: white;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px;
        width: 200px;
        min-width: 200px;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .add-list {
        align-self: flex-end;
        height: fit-content;
        padding: 10px;
        background: #e0e0e0;
        border: none;
        border-radius: 8px;
        cursor: pointer;
    }

    li {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>

<body>

    <div class="container" id="container">
        <button id="btnAddLista" class="add-list" onclick="adicionarLista()">Adicionar outra lista</button>
    </div>

    <script>

        function adicionarLista() {
            let container = document.getElementById('container')
            let botaoAddLista = document.getElementById('btnAddLista')

            let input = document.createElement('input')
            input.className = "tarefa1"

            let divInput = document.createElement('div')
            divInput.className = "divInput"

            let buttonAdicionar = document.createElement('button')
            buttonAdicionar.textContent = 'Nome da lista'
            let ulLista = document.createElement('ul')

            buttonAdicionar.addEventListener('click', () => {
                if (input.value == "") {
                    return
                }

                let li = document.createElement('li')
                li.innerHTML = `<p>${input.value}</p>
                <ul class="cards"></ul>
                <button onclick="adicionarCartao(this)">Adicionar Cartão</button>
                `

                ulLista.appendChild(li)

                input.remove()
                buttonAdicionar.remove()
            })

            divInput.appendChild(input)
            divInput.appendChild(buttonAdicionar)
            divInput.appendChild(ulLista)

            container.insertBefore(divInput, botaoAddLista);


        }

        function adicionarCartao(botao) {
            let li = botao.parentElement
            let ulCartao = li.querySelector('.cards')
            botao.remove()

            let input = document.createElement('input')
            let buttonAdicionar = document.createElement('button')
            buttonAdicionar.textContent = 'Adicionar cartão'

            buttonAdicionar.addEventListener('click', () => {

                if (input.value == "") {
                    return
                }
                let liCard = document.createElement('li')
                let buttonCard = document.createElement('a')
                buttonCard.textContent = input.value
                liCard.appendChild(buttonCard)
                ulCartao.appendChild(liCard)

                input.remove()
                buttonAdicionar.remove()

                let novoBotao = document.createElement('button')
                novoBotao.textContent = 'Adicionar Cartão'
                novoBotao.onclick = function () { adicionarCartao(novoBotao) }
                li.appendChild(novoBotao)


            })

            li.appendChild(input)
            li.appendChild(buttonAdicionar)
        }

    </script>
</body>

</html>